"use strict";

exports.__esModule = true;
exports.default = withIcon;

var _propTypes = _interopRequireDefault(require("prop-types"));

var _react = _interopRequireDefault(require("react"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function withIcon(name) {
  return WrappedComponent => {
    var _class, _temp;

    return _temp = _class = class Icon extends _react.default.Component {
      render() {
        const {
          accessibilityLabel,
          color,
          decorative,
          flip,
          flipVertical,
          inline,
          size
        } = this.props;
        const props = {
          focusable: 'false',
          role: decorative ? 'presentation' : 'img',
          style: {
            height: size,
            width: size,
            display: inline ? 'inline' : 'block',
            fill: color,
            transform: flip || flipVertical ? "scale(" + (flip ? -1 : 1) + ", " + (flipVertical ? -1 : 1) + ")" : 'scale(1)',
            // keep scale(1) for transition flipping
            transition: 'transform 300ms ease-out'
          }
        };

        if ("production" !== process.env.NODE_ENV) {
          if (!accessibilityLabel && !decorative) {
            // eslint-disable-next-line no-console
            console.error('Missing `accessibilityLabel` or `decorative` for accessibility.');
          }

          if (accessibilityLabel && decorative) {
            // eslint-disable-next-line no-console
            console.error('Only one of `accessibilityLabel` or `decorative` may be used.');
          }
        }

        if (decorative) {
          props['aria-hidden'] = true;
        }

        if (accessibilityLabel) {
          props['aria-label'] = accessibilityLabel;
        }

        return _react.default.createElement(WrappedComponent, props);
      }

    }, _defineProperty(_class, "propTypes", {
      accessibilityLabel: _propTypes.default.string,
      decorative: _propTypes.default.bool,
      flip: _propTypes.default.bool,
      flipVertical: _propTypes.default.bool,
      size: _propTypes.default.oneOfType([_propTypes.default.number, _propTypes.default.string]),
      color: _propTypes.default.string,
      inline: _propTypes.default.bool
    }), _defineProperty(_class, "displayName", name), _defineProperty(_class, "WrappedComponent", WrappedComponent), _defineProperty(_class, "defaultProps", {
      color: 'currentColor',
      flip: false,
      flipVertical: false,
      inline: false,
      size: '1em'
    }), _temp;
  };
}