"use strict";exports.__esModule=!0,exports.default=void 0;var _core=require("@superset-ui/core"),_stringifyAndTrim=_interopRequireDefault(require("./stringifyAndTrim"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function _assertThisInitialized(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _inheritsLoose(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var CategoricalColorScale=/*#__PURE__*/function(a){/**
   * Constructor
   * @param {*} colors an array of colors
   * @param {*} parentForcedColors optional parameter that comes from parent
   * (usually CategoricalColorNamespace) and supersede this.forcedColors
   */function b(b,c){var d;return d=a.call(this,function(a){return d.getColor(a)})||this,_defineProperty(_assertThisInitialized(d),"colors",void 0),_defineProperty(_assertThisInitialized(d),"parentForcedColors",void 0),_defineProperty(_assertThisInitialized(d),"forcedColors",void 0),_defineProperty(_assertThisInitialized(d),"seen",void 0),d.colors=b,d.parentForcedColors=c,d.forcedColors={},d.seen={},d}_inheritsLoose(b,a);var c=b.prototype;return c.getColor=function getColor(a){var b=(0,_stringifyAndTrim.default)(a),c=this.parentForcedColors&&this.parentForcedColors[b];if(c)return c;var d=this.forcedColors[b];if(d)return d;var e=this.seen[b],f=this.colors.length;if(void 0!==e)return this.colors[e%f];var g=Object.keys(this.seen).length;return this.seen[b]=g,this.colors[g%f]}/**
   * Enforce specific color for given value
   * @param {*} value value
   * @param {*} forcedColor forcedColor
   */,c.setColor=function setColor(a,b){return this.forcedColors[(0,_stringifyAndTrim.default)(a)]=b,this}/**
   * Get a mapping of data values to colors
   * @returns an object where the key is the data value and the value is the hex color code
   */,c.getColorMap=function getColorMap(){var a=this,b={},c=this.colors.length;return Object.keys(this.seen).forEach(function(d){b[d]=a.colors[a.seen[d]%c]}),_extends({},b,{},this.forcedColors,{},this.parentForcedColors)},b}(_core.ExtensibleFunction);exports.default=CategoricalColorScale;