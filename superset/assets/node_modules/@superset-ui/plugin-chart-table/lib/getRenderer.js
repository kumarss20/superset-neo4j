"use strict";exports.__esModule=!0,exports.default=getRenderer;var _react=_interopRequireWildcard(require("react")),_constants=require("@airbnb/lunar/lib/components/DataTable/constants"),_HTMLRenderer=_interopRequireDefault(require("./components/HTMLRenderer"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return _getRequireWildcardCache=function(){return a},a}function _interopRequireWildcard(a){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var b=_getRequireWildcardCache();if(b&&b.has(a))return b.get(a);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var e in a)if(Object.prototype.hasOwnProperty.call(a,e)){var f=d?Object.getOwnPropertyDescriptor(a,e):null;f&&(f.get||f.set)?Object.defineProperty(c,e,f):c[e]=a[e]}return c.default=a,b&&b.set(a,c),c}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var NEGATIVE_COLOR="#FFA8A8",POSITIVE_COLOR="#ced4da",SELECTION_COLOR="#EBEBEB",NOOP=function(){},HEIGHT=_constants.HEIGHT_TO_PX.micro,NUMBER_STYLE={marginLeft:"auto",marginRight:"4px",zIndex:10};function getRenderer(a){var b=a.column,c=a.alignPositiveNegative,d=a.colorPositiveNegative,e=a.enableFilter,f=a.isSelected,g=a.handleCellSelected,h=b.format,i=b.type,j="metric"===i,k=e&&!j?"pointer":"default",l={alignItems:"center",display:"flex",margin:"0px 16px",position:"relative",textAlign:j?"right":"left"},m={cursor:k,margin:"4px -16px",wordBreak:"break-all"},n=_extends({},m,{backgroundColor:SELECTION_COLOR}),o=e?function(a){return a?n:m}:function(){return m},p=Math.abs(Math.max(b.maxValue,0)),q=Math.abs(Math.min(b.minValue,0)),r=p+q;return function(a){var e,i=a.keyName,k=a.row,m=k.rowData.data[i],n={key:i,value:m},p=j?NOOP:(0,_react.useMemo)(function(){return g(n)},[i,m]);if(j){var s=0,t=0,u=m;c?t=Math.abs(Math.round(100*(u/Math.max(b.maxValue,Math.abs(b.minValue))))):(s=Math.round(100*(Math.min(q+u,q)/r)),t=Math.round(100*(Math.abs(u)/r)));var v=d&&0>u?NEGATIVE_COLOR:POSITIVE_COLOR;e=function(a){var b=a.children,c={background:v,borderRadius:3,height:HEIGHT/2+4,left:s+"%",position:"absolute",width:t+"%"};return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement("div",{style:c}),_react.default.createElement("div",{style:NUMBER_STYLE},b))}}else e=_react.default.Fragment;return _react.default.createElement("div",{onClick:p},_react.default.createElement("div",{style:o(f(n))},_react.default.createElement("div",{style:l},_react.default.createElement(e,null,h?h.format(m):_react.default.createElement(_HTMLRenderer.default,{value:m+""})))))}}