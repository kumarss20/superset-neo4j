"use strict";exports.__esModule=!0,exports.default=void 0;var _d=_interopRequireDefault(require("d3")),_propTypes=_interopRequireDefault(require("prop-types")),_d3Cloud=_interopRequireDefault(require("d3-cloud")),_color=require("@superset-ui/color");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */ /* eslint-disable sort-keys, no-magic-numbers */var ROTATION={square:function square(){return 90*Math.floor(2*Math.random())},flat:function flat(){return 0},random:function random(){return 30*Math.floor(6*Math.random()-3)}},propTypes={data:_propTypes.default.arrayOf(_propTypes.default.shape({size:_propTypes.default.number,text:_propTypes.default.string})),width:_propTypes.default.number,height:_propTypes.default.number,rotation:_propTypes.default.string,sizeRange:_propTypes.default.arrayOf(_propTypes.default.number),colorScheme:_propTypes.default.string};function WordCloud(a,b){var c=b.data,d=b.width,e=b.height,f=b.rotation,g=b.sizeRange,h=b.colorScheme,i=_d.default.select(a);i.classed("superset-legacy-chart-word-cloud",!0);var j=ROTATION[f]||ROTATION.flat,k=_d.default.scale.linear().range(g).domain(_d.default.extent(c,function(a){return a.size})),l=(0,_d3Cloud.default)().size([d,e]).words(c).padding(5).rotate(j).font("Helvetica").fontWeight("bold").fontSize(function(a){return k(a.size)}),m=_color.CategoricalColorNamespace.getScale(h);l.on("end",function(a){i.selectAll("*").remove();var b=l.size(),c=b[0],d=b[1];i.append("svg").attr("width",c).attr("height",d).append("g").attr("transform","translate("+c/2+","+d/2+")").selectAll("text").data(a).enter().append("text").style("font-size",function(a){return a.size+"px"}).style("font-weight","bold").style("font-family","Helvetica").style("fill",function(a){return m(a.text)}).attr("text-anchor","middle").attr("transform",function(a){return"translate("+a.x+", "+a.y+") rotate("+a.rotate+")"}).text(function(a){return a.text})}).start()}WordCloud.displayName="WordCloud",WordCloud.propTypes=propTypes;var _default=WordCloud;exports.default=_default;