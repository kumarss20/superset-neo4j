"use strict";exports.__esModule=!0,exports.getLayer=getLayer,exports.default=void 0;var _deck=require("deck.gl"),_react=_interopRequireDefault(require("react")),_translation=require("@superset-ui/translation"),_common=require("../common"),_factory=require("../../factory"),_TooltipRow=_interopRequireDefault(require("../../TooltipRow"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function getPoints(a){var b=[];return a.forEach(function(a){b.push(a.sourcePosition),b.push(a.targetPosition)}),b}function setTooltipContent(a){return function(b){return _react.default.createElement("div",{className:"deckgl-tooltip"},_react.default.createElement(_TooltipRow.default,{label:(0,_translation.t)("Start (Longitude, Latitude)")+": ",value:b.object.sourcePosition[0]+", "+b.object.sourcePosition[1]}),_react.default.createElement(_TooltipRow.default,{label:(0,_translation.t)("End (Longitude, Latitude)")+": ",value:b.object.targetPosition[0]+", "+b.object.targetPosition[1]}),a.dimension&&_react.default.createElement(_TooltipRow.default,{label:a.dimension+": ",value:""+b.object.cat_color}))}}function getLayer(a,b,c,d){var e=b.data.features,f=a.color_picker,g=a.target_color_picker;return new _deck.ArcLayer(_extends({data:e,getSourceColor:function getSourceColor(a){return a.sourceColor||a.color||[f.r,f.g,f.b,255*f.a]},getTargetColor:function getTargetColor(a){return a.targetColor||a.color||[g.r,g.g,g.b,255*g.a]},id:"path-layer-"+a.slice_id,strokeWidth:a.stroke_width?a.stroke_width:3},(0,_common.commonLayerProps)(a,d,setTooltipContent(a))))}var _default=(0,_factory.createCategoricalDeckGLComponent)(getLayer,getPoints);exports.default=_default;