/* eslint-disable no-magic-numbers */import{format as d3Format}from"d3-format";import NumberFormatter from"../NumberFormatter";import NumberFormats from"../NumberFormats";var siFormatter=d3Format(".3~s"),float2PointFormatter=d3Format(".2~f"),float4PointFormatter=d3Format(".4~f");export default function createSmartNumberFormatter(a){function b(a){if(0===a)return"0";var b=Math.abs(a);if(1e3<=b)// Normal human being are more familiar
// with billion (B) that giga (G)
return siFormatter(a).replace("G","B");return 1<=b?float2PointFormatter(a):.001<=b?float4PointFormatter(a):1e-6<b?siFormatter(1e6*a)+"\xB5":siFormatter(a)}void 0===a&&(a={});var c=a,d=c.description,e=c.signed,f=void 0!==e&&e,g=c.id,h=c.label,i=f?function(a){return 0<a?"+":""}:function(){return""};return new NumberFormatter({description:d,formatFunc:function formatFunc(a){return""+i(a)+b(a)},id:g||f?NumberFormats.SMART_NUMBER_SIGNED:NumberFormats.SMART_NUMBER,label:h||"Adaptive formatter"})}