function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],0<=b.indexOf(c)||(e[c]=a[c]);return e}import getTextDimension from"./getTextDimension";function decreaseSizeUntil(a,b,c){for(var d=a,e=b(d);!c(e);)d-=1,e=b(d);return d}export default function computeMaxFontSize(a){function b(a){return getTextDimension(_extends({},h,{style:_extends({},g,{fontSize:a})}))}var c,d=a.idealFontSize,e=a.maxWidth,f=a.maxHeight,g=a.style,h=_objectWithoutPropertiesLoose(a,["idealFontSize","maxWidth","maxHeight","style"]);if(void 0!==d&&null!==d)c=d;else if(void 0===f||null===f)throw new Error("You must specify at least one of maxHeight or idealFontSize");else c=Math.floor(f);return void 0!==e&&null!==e&&(c=decreaseSizeUntil(c,b,function(a){return a.width<=e})),void 0!==f&&null!==f&&(c=decreaseSizeUntil(c,b,function(a){return a.height<=f})),c}