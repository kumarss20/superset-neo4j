import updateTextNode from"./svg/updateTextNode";import getBBoxCeil from"./svg/getBBoxCeil";import{hiddenSvgFactory,textFactory}from"./svg/factories";export default function getTextDimension(a,b){var c=a.text,d=a.className,e=a.style,f=a.container;// Empty string
if(0===c.length)return{height:0,width:0};var g=hiddenSvgFactory.createInContainer(f),h=textFactory.createInContainer(g);updateTextNode(h,{className:d,style:e,text:c});var i=getBBoxCeil(h,b);// The nodes are added to the DOM briefly only to make getBBox works.
// (If not added to DOM getBBox will always return 0x0.)
// After that the svg nodes are not needed.
// We delay its removal in case there are subsequent calls to this function
// that can reuse the svg nodes.
// Experiments have shown that reusing existing nodes
// instead of deleting and adding new ones can save lot of time.
return setTimeout(function(){textFactory.removeFromContainer(g),hiddenSvgFactory.removeFromContainer(f)},500),i}