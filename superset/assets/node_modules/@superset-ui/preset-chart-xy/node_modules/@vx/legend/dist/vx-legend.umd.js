!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports,require("classnames"),require("@vx/group"),require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["exports","classnames","@vx/group","react","prop-types"],a):a(e.vx=e.vx||{},e.classNames,e.vx,e.React,e.PropTypes)}(this,function(e,R,o,U,a){"use strict";function k(){return(k=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function H(t){for(var e=1;e<arguments.length;e++){var l=null!=arguments[e]?arguments[e]:{},a=Object.keys(l);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(l).filter(function(e){return Object.getOwnPropertyDescriptor(l,e).enumerable}))),a.forEach(function(e){var a,n,r;a=t,r=l[n=e],n in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r})}return t}function W(e,a){if(null==e)return{};var n,r,t=function(e,a){if(null==e)return{};var n,r,t={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],0<=a.indexOf(n)||(t[n]=e[n]);return t}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],0<=a.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function g(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var n=[],r=!0,t=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!a||n.length!==a);r=!0);}catch(e){t=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(t)throw l}}return n}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _(e){var a=e.flexDirection,n=void 0===a?"row":a,r=e.alignItems,t=void 0===r?"center":r,l=e.margin,i=void 0===l?"0":l,o=e.display,s=void 0===o?"flex":o,c=e.children,u=W(e,["flexDirection","alignItems","margin","display","children"]);return U.createElement("div",k({className:"vx-legend-item",style:{display:s,alignItems:t,flexDirection:n,margin:i}},u),c)}function C(e){var a=e.flex,n=void 0===a?"1":a,r=e.label,t=e.margin,l=void 0===t?"5px 0":t,i=e.align,o=void 0===i?"left":i,s=e.children;return U.createElement("div",{className:"vx-legend-label",style:{justifyContent:o,display:"flex",flex:n,margin:l}},s||r)}function O(e){var a=e.fill,n=e.width,r=e.height,t=e.style;return U.createElement("div",{style:H({width:n,height:r,background:a},t)})}function F(e){var a=e.fill,n=e.width,r=e.height,t=e.style;"string"==typeof n&&(n=0),"string"==typeof r&&(r=0);var l=Math.max(n,r),i=l/2;return U.createElement("svg",{width:l,height:l},U.createElement(o.Group,{top:i,left:i},U.createElement("circle",{r:i,fill:a,style:t})))}function G(e){return e&&e.value?e.value:e}function Q(e){var a,n,r,t,l,i,o,s,c,u,m,f,d,p=e.shape,b=void 0===p?O:p,y=e.width,g=e.height,h=e.margin,v=e.label,x=e.fill,T=e.size,w=e.shapeStyle;return U.createElement("div",{className:"vx-legend-shape",style:{display:"flex",width:T?T(H({},v)):y,height:T?T(H({},v)):g,margin:h}},(n=(a={shape:b,label:v,width:y,height:g,fill:x,shapeStyle:w}).shape,r=void 0===n?"rect":n,t=a.fill,l=void 0===t?G:t,i=a.size,o=void 0===i?G:i,s=a.width,c=a.height,u=a.label,m=a.shapeStyle,f=void 0===m?function(e){}:m,d={width:s,height:c,label:u,fill:l(H({},u)),size:o(H({},u)),style:f(H({},u))},"string"==typeof r?"rect"===r?U.createElement(O,d):U.createElement(F,d):U.isValidElement(r)?U.cloneElement(r,d):U.createElement(r,d)))}R=R&&R.hasOwnProperty("default")?R.default:R,U=U&&U.hasOwnProperty("default")?U.default:U,a=a&&a.hasOwnProperty("default")?a.default:a,_.propTypes={flexDirection:a.string,alignItems:a.string,margin:a.oneOfType([a.string,a.number]),children:a.any},C.propTypes={align:a.string,label:a.any,flex:a.oneOfType([a.string,a.number]),margin:a.oneOfType([a.string,a.number]),children:a.any},O.propTypes={fill:a.any,width:a.oneOfType([a.number,a.string]),height:a.oneOfType([a.number,a.string]),style:a.object},F.propTypes={fill:a.any,width:a.oneOfType([a.number,a.string]),height:a.oneOfType([a.number,a.string]),style:a.object},Q.propTypes={shape:a.any,width:a.any,height:a.any,margin:a.any,label:a.any,fill:a.any,size:a.any,shapeStyle:a.any},h.propTypes={className:a.string,style:a.any,domain:a.array,scale:a.oneOfType([a.func,a.object]).isRequired,shapeWidth:a.oneOfType([a.number,a.string]),shapeHeight:a.oneOfType([a.number,a.string]),shapeMargin:a.any,labelAlign:a.string,labelFlex:a.string,labelMargin:a.string,itemMargin:a.string,direction:a.string,itemDirection:a.string,fill:a.any,size:a.any,shape:a.any,shapeStyle:a.any,labelFormat:a.func,labelTransform:a.func,children:a.func};var V={display:"flex"};function h(e){var a=e.className,n=e.style,r=void 0===n?V:n,t=e.shapeStyle,l=e.scale,i=e.shape,o=e.domain,s=e.fill,c=void 0===s?G:s,u=e.size,m=void 0===u?G:u,f=e.labelFormat,d=void 0===f?G:f,p=e.labelTransform,b=void 0===p?B:p,y=e.shapeWidth,g=void 0===y?15:y,h=e.shapeHeight,v=void 0===h?15:h,x=e.shapeMargin,T=void 0===x?"2px 4px 2px 0":x,w=e.labelAlign,O=void 0===w?"left":w,F=e.labelFlex,E=void 0===F?"1":F,D=e.labelMargin,j=void 0===D?"0 4px":D,L=e.itemMargin,S=void 0===L?"0":L,M=e.direction,P=void 0===M?"column":M,q=e.itemDirection,z=void 0===q?"row":q,N=e.children,A=W(e,["className","style","shapeStyle","scale","shape","domain","fill","size","labelFormat","labelTransform","shapeWidth","shapeHeight","shapeMargin","labelAlign","labelFlex","labelMargin","itemMargin","direction","itemDirection","children"]),I=(o=o||l.domain()).map(b({scale:l,labelFormat:d}));return N?N(I):U.createElement("div",{className:R("vx-legend",a),style:H({},r,{flexDirection:P})},I.map(function(e,a){var n=e.text;return U.createElement(_,k({key:"legend-".concat(e,"-").concat(a),margin:S,flexDirection:z,label:e},A),U.createElement(Q,{shape:i,height:v,width:g,margin:T,label:e,fill:c,size:m,shapeStyle:t}),U.createElement(C,{label:n,flex:E,margin:j,align:O}))}))}function B(e){var n=e.scale,r=e.labelFormat;return function(e,a){return{datum:e,index:a,text:"".concat(r(e,a)),value:n(e)}}}function n(e){var s,a=e.scale,n=e.domain,r=e.labelFormat,t=void 0===r?function(e){return e}:r,l=e.labelTransform,i=e.labelDelimiter,o=void 0===i?"-":i,c=W(e,["scale","domain","labelFormat","labelTransform","labelDelimiter"]);return n=n||a.range(),l=l||(s={labelDelimiter:o}.labelDelimiter,function(e){var i=e.scale,o=e.labelFormat;return function(e,a){var n=i.invertExtent(e),r=g(n,2),t=r[0],l=r[1];return{extent:[t,l],text:"".concat(o(t,a)," ").concat(s," ").concat(o(l,a)),value:i(t),datum:e,index:a}}}),U.createElement(h,k({scale:a,domain:n,labelFormat:t,labelTransform:l},c))}function r(e){var a,n,r,t,l,i=e.scale,o=e.domain,s=e.steps,c=void 0===s?5:s,u=e.labelFormat,m=void 0===u?function(e){return e}:u,f=e.labelTransform,d=void 0===f?b:f,p=W(e,["scale","domain","steps","labelFormat","labelTransform"]);return o=o||(n=(a={steps:c,scale:i}).steps,r=a.scale.domain(),t=r[0],l=(r[r.length-1]-t)/(n-1),new Array(n).fill(1).reduce(function(e,a,n){return e.push(t+n*l),e},[])),U.createElement(h,k({scale:i,domain:o,labelFormat:m,labelTransform:d},p))}function b(e){var n=e.scale,r=e.labelFormat;return function(e,a){return{text:"".concat(r(e,a)),value:n(e)}}}function t(e){var a=e.scale,n=e.domain,r=e.labelTransform,t=void 0===r?s:r,l=e.labelFormat,i=void 0===l?G:l,o=W(e,["scale","domain","labelTransform","labelFormat"]);return U.createElement(h,k({scale:a,domain:n,labelFormat:i,labelTransform:t},o))}function s(e){var n=e.scale,r=e.labelFormat;return function(e,a){return{datum:e,index:a,text:"".concat(r(e,a)),value:n(e)}}}function l(e){var a,m,f,d,n=e.scale,r=e.domain,t=e.labelFormat,l=void 0===t?function(e){return e}:t,i=e.labelTransform,o=e.labelDelimiter,s=void 0===o?"to":o,c=e.labelLower,u=void 0===c?"Less than ":c,p=e.labelUpper,b=void 0===p?"More than ":p,y=W(e,["scale","domain","labelFormat","labelTransform","labelDelimiter","labelLower","labelUpper"]);return r=r||n.range(),i=i||(m=(a={labelDelimiter:s,labelLower:u,labelUpper:b}).labelDelimiter,f=a.labelLower,d=a.labelUpper,function(e){var s=e.scale,c=e.labelFormat;function u(e,a,n){var r=e(a,n);return 0===r?"0":r||""}return function(e,a){var n,r=s.invertExtent(e),t=g(r,2),l=t[0],i=t[1],o=" ".concat(m," ");return 0===l||l||0!==i&&!i?0!==l&&!l||0!==i&&!i?i||0!==l&&!l||(n=l+s.domain()[1],i=l,l=void 0,o=d):n=l:(n=i-1,o=f),{extent:[l,i],text:"".concat(u(c,l,a)).concat(o).concat(u(c,i,a)),value:s(n),datum:e,index:a}}}),U.createElement(h,k({scale:n,domain:r,labelFormat:l,labelTransform:i},y))}function y(e){var n=e.scale,r=e.labelFormat;return function(e,a){return{text:"".concat(r(e,a)),value:n(e),datum:e,index:a}}}n.propTypes={scale:a.func.isRequired,domain:a.array,labelFormat:a.func,labelTransform:a.func,labelDelimiter:a.string},r.propTypes={scale:a.func.isRequired,domain:a.array,steps:a.number,labelFormat:a.func,labelTransform:a.func},t.propTypes={scale:a.func.isRequired,domain:a.array,labelTransform:a.func,labelFormat:a.func},l.propTypes={scale:a.func.isRequired,domain:a.array,labelTransform:a.func,labelFormat:a.func,labelDelimiter:a.string,labelLower:a.string,labelUpper:a.string},e.Legend=h,e.LegendQuantile=n,e.LegendLinear=r,e.LegendOrdinal=t,e.LegendThreshold=l,e.LegendSize=function(e){var a,n,r,t,l,i=e.scale,o=e.domain,s=e.steps,c=void 0===s?5:s,u=e.labelFormat,m=void 0===u?function(e){return e}:u,f=e.labelTransform,d=void 0===f?y:f,p=W(e,["scale","domain","steps","labelFormat","labelTransform"]);return o=o||(n=(a={steps:c,scale:i}).steps,r=a.scale.domain(),t=r[0],l=(r[r.length-1]-t)/(n-1),new Array(n).fill(1).reduce(function(e,a,n){return e.push(t+n*l),e},[])),U.createElement(h,k({scale:i,domain:o,labelFormat:m,labelTransform:d},p))},e.LegendItem=_,e.LegendLabel=C,e.LegendShape=Q,Object.defineProperty(e,"__esModule",{value:!0})});
