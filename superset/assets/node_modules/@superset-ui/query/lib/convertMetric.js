"use strict";exports.__esModule=!0,exports.default=convertMetric,exports.LABEL_MAX_LENGTH=void 0;function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}var LABEL_MAX_LENGTH=43;exports.LABEL_MAX_LENGTH=LABEL_MAX_LENGTH;function getDefaultLabel(a){var b;return b="SIMPLE"===a.expressionType?a.aggregate+"("+a.column.columnName+")":a.sqlExpression,b.length<=LABEL_MAX_LENGTH?b:b.substring(0,LABEL_MAX_LENGTH-3)+"..."}function convertMetric(a){var b;if("string"==typeof a)b={label:a};else{// Note we further sanitize the metric label for BigQuery datasources
// TODO: move this logic to the client once client has more info on the
// the datasource
var c=a.label||getDefaultLabel(a);b=_extends({},a,{label:c})}return b}