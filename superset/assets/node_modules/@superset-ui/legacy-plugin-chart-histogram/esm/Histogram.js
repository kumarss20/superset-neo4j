function _inheritsLoose(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}/**
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 */ /* eslint-disable sort-keys */import PropTypes from"prop-types";import React from"react";import{Histogram,BarSeries,XAxis,YAxis}from"@data-ui/histogram";import{chartTheme}from"@data-ui/theme";import{LegendOrdinal}from"@vx/legend";import{scaleOrdinal}from"@vx/scale";import{CategoricalColorNamespace}from"@superset-ui/color";import WithLegend from"./WithLegend";import"./Histogram.css";var propTypes={className:PropTypes.string,data:PropTypes.arrayOf(PropTypes.shape({key:PropTypes.string,values:PropTypes.arrayOf(PropTypes.number)})).isRequired,width:PropTypes.number.isRequired,height:PropTypes.number.isRequired,colorScheme:PropTypes.string,normalized:PropTypes.bool,binCount:PropTypes.number,opacity:PropTypes.number,xAxisLabel:PropTypes.string,yAxisLabel:PropTypes.string},defaultProps={className:"",colorScheme:"",normalized:!1,binCount:15,opacity:1,xAxisLabel:"",yAxisLabel:""},CustomHistogram=/*#__PURE__*/function(a){function b(){return a.apply(this,arguments)||this}_inheritsLoose(b,a);var c=b.prototype;return c.render=function render(){var a=this.props,b=a.className,c=a.data,d=a.width,e=a.height,f=a.binCount,g=a.colorScheme,h=a.normalized,i=a.opacity,j=a.xAxisLabel,k=a.yAxisLabel,l=CategoricalColorNamespace.getScale(g),m=c.map(function(a){return a.key}),n=scaleOrdinal({domain:m,range:m.map(l)});return React.createElement(WithLegend,{className:"superset-legacy-chart-histogram "+b,width:d,height:e,position:"top",renderLegend:function renderLegend(a){var b=a.direction;return React.createElement(LegendOrdinal,{scale:n,direction:b,shape:"rect",labelMargin:"0 15px 0 0"})},renderChart:function renderChart(a){return React.createElement(Histogram,{width:a.width,height:a.height,ariaLabel:"Histogram",normalized:h,binCount:f,binType:"numeric",margin:{top:20,right:20},renderTooltip:function renderTooltip(a){var b=a.datum,c=a.color;return React.createElement("div",null,React.createElement("strong",{style:{color:c}},b.bin0," to ",b.bin1),React.createElement("div",null,React.createElement("strong",null,"count "),b.count),React.createElement("div",null,React.createElement("strong",null,"cumulative "),b.cumulative))},valueAccessor:function valueAccessor(a){return a},theme:chartTheme},c.map(function(a){return React.createElement(BarSeries,{key:a.key,animated:!0,rawData:a.values,fill:n(a.key),fillOpacity:i})}),React.createElement(XAxis,{label:j}),React.createElement(YAxis,{label:k}))}})},b}(React.PureComponent);CustomHistogram.propTypes=propTypes,CustomHistogram.defaultProps=defaultProps;export default CustomHistogram;