"use strict";exports.__esModule=!0,exports.default=void 0;var _react=_interopRequireDefault(require("react")),_propTypes=_interopRequireDefault(require("prop-types")),_responsive=require("@vx/responsive");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _extends(){return _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},_extends.apply(this,arguments)}function _inheritsLoose(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}var propTypes={className:_propTypes.default.string,width:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),height:_propTypes.default.oneOfType([_propTypes.default.number,_propTypes.default.string]),renderChart:_propTypes.default.func.isRequired,renderLegend:_propTypes.default.func.isRequired,position:_propTypes.default.oneOf(["top","left","bottom","right"]),legendJustifyContent:_propTypes.default.oneOf(["center","flex-start","flex-end"])},defaultProps={className:"",width:"auto",height:"auto",position:"top",legendJustifyContent:void 0},LEGEND_STYLE_BASE={display:"flex",flexGrow:0,flexShrink:0,order:-1,paddingTop:"5px",fontSize:"0.9em"},CHART_STYLE_BASE={flexGrow:1,flexShrink:1,flexBasis:"auto",position:"relative"},WithLegend=/*#__PURE__*/function(a){function b(){return a.apply(this,arguments)||this}_inheritsLoose(b,a);var c=b.prototype;return c.getContainerDirection=function getContainerDirection(){var a=this.props.position;switch(a){case"left":return"row";case"right":return"row-reverse";case"bottom":return"column-reverse";default:case"top":return"column";}},c.getLegendJustifyContent=function getLegendJustifyContent(){var a=this.props,b=a.legendJustifyContent,c=a.position;if(b)return b;switch(c){case"left":return"flex-start";case"right":return"flex-start";case"bottom":return"flex-end";default:case"top":return"flex-end";}},c.render=function render(){var a=this.props,b=a.className,c=a.width,d=a.height,e=a.position,f=a.renderChart,g=a.renderLegend,h="left"===e||"right"===e,i={display:"flex",flexDirection:this.getContainerDirection()};c&&(i.width=c),d&&(i.height=d);var j=_extends({},CHART_STYLE_BASE);h?j.width=0:j.height=0;var k=h?"column":"row",l=_extends({},LEGEND_STYLE_BASE,{flexDirection:k,justifyContent:this.getLegendJustifyContent()});return _react.default.createElement("div",{className:"with-legend "+b,style:i},_react.default.createElement("div",{className:"legend-container",style:l},g({// Pass flexDirection for @vx/legend to arrange legend items
direction:k})),_react.default.createElement("div",{className:"main-container",style:j},_react.default.createElement(_responsive.ParentSize,null,function(a){return 0<a.width&&0<a.height?// Only render when necessary
f(a):null})))},b}(_react.default.Component);WithLegend.propTypes=propTypes,WithLegend.defaultProps=defaultProps;var _default=WithLegend;exports.default=_default;