"use strict";exports.__esModule=!0,exports.default=void 0;var _propTypes=_interopRequireDefault(require("prop-types")),_react=_interopRequireDefault(require("react")),_histogram=require("@data-ui/histogram"),_theme=require("@data-ui/theme"),_legend=require("@vx/legend"),_scale=require("@vx/scale"),_color=require("@superset-ui/color"),_WithLegend=_interopRequireDefault(require("./WithLegend"));require("./Histogram.css");function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _inheritsLoose(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.__proto__=b}var propTypes={className:_propTypes.default.string,data:_propTypes.default.arrayOf(_propTypes.default.shape({key:_propTypes.default.string,values:_propTypes.default.arrayOf(_propTypes.default.number)})).isRequired,width:_propTypes.default.number.isRequired,height:_propTypes.default.number.isRequired,colorScheme:_propTypes.default.string,normalized:_propTypes.default.bool,binCount:_propTypes.default.number,opacity:_propTypes.default.number,xAxisLabel:_propTypes.default.string,yAxisLabel:_propTypes.default.string},defaultProps={className:"",colorScheme:"",normalized:!1,binCount:15,opacity:1,xAxisLabel:"",yAxisLabel:""},CustomHistogram=/*#__PURE__*/function(a){function b(){return a.apply(this,arguments)||this}_inheritsLoose(b,a);var c=b.prototype;return c.render=function render(){var a=this.props,b=a.className,c=a.data,d=a.width,e=a.height,f=a.binCount,g=a.colorScheme,h=a.normalized,i=a.opacity,j=a.xAxisLabel,k=a.yAxisLabel,l=_color.CategoricalColorNamespace.getScale(g),m=c.map(function(a){return a.key}),n=(0,_scale.scaleOrdinal)({domain:m,range:m.map(l)});return _react.default.createElement(_WithLegend.default,{className:"superset-legacy-chart-histogram "+b,width:d,height:e,position:"top",renderLegend:function renderLegend(a){var b=a.direction;return _react.default.createElement(_legend.LegendOrdinal,{scale:n,direction:b,shape:"rect",labelMargin:"0 15px 0 0"})},renderChart:function renderChart(a){return _react.default.createElement(_histogram.Histogram,{width:a.width,height:a.height,ariaLabel:"Histogram",normalized:h,binCount:f,binType:"numeric",margin:{top:20,right:20},renderTooltip:function renderTooltip(a){var b=a.datum,c=a.color;return _react.default.createElement("div",null,_react.default.createElement("strong",{style:{color:c}},b.bin0," to ",b.bin1),_react.default.createElement("div",null,_react.default.createElement("strong",null,"count "),b.count),_react.default.createElement("div",null,_react.default.createElement("strong",null,"cumulative "),b.cumulative))},valueAccessor:function valueAccessor(a){return a},theme:_theme.chartTheme},c.map(function(a){return _react.default.createElement(_histogram.BarSeries,{key:a.key,animated:!0,rawData:a.values,fill:n(a.key),fillOpacity:i})}),_react.default.createElement(_histogram.XAxis,{label:j}),_react.default.createElement(_histogram.YAxis,{label:k}))}})},b}(_react.default.PureComponent);CustomHistogram.propTypes=propTypes,CustomHistogram.defaultProps=defaultProps;var _default=CustomHistogram;exports.default=_default;