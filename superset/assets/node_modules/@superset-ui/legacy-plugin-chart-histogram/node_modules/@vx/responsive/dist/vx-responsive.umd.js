!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("prop-types"),require("resize-observer-polyfill"),require("react")):"function"==typeof define&&define.amd?define(["exports","prop-types","resize-observer-polyfill","react"],t):t(e.vx=e.vx||{},e.PropTypes,e.ResizeObserver,e.React)}(this,function(e,t,r,l){"use strict";function n(e){var t=e.children,n=e.width,r=e.height,i=e.xOrigin,o=void 0===i?0:i,a=e.yOrigin,u=void 0===a?0:a,c=e.preserveAspectRatio,s=void 0===c?"xMinYMin meet":c,f=e.innerRef;return l.createElement("div",{style:{display:"inline-block",position:"relative",width:"100%",verticalAlign:"top",overflow:"hidden"}},l.createElement("svg",{preserveAspectRatio:s,viewBox:"".concat(o," ").concat(u," ").concat(n," ").concat(r),ref:f},t))}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r,l=l&&l.hasOwnProperty("default")?l.default:l,n.propTypes={children:t.any,width:t.oneOfType([t.number,t.string]),height:t.oneOfType([t.number,t.string]),xOrigin:t.oneOfType([t.number,t.string]),yOrigin:t.oneOfType([t.number,t.string]),preserveAspectRatio:t.string,innerRef:t.oneOfType([t.func,t.object])};var m=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},v="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},y="object"==typeof v&&v&&v.Object===Object&&v,b="object"==typeof self&&self&&self.Object===Object&&self,g=y||b||Function("return this")(),w=function(){return g.Date.now()},O=g.Symbol,j=Object.prototype,T=j.hasOwnProperty,z=j.toString,P=O?O.toStringTag:void 0;var S=function(e){var t=T.call(e,P),n=e[P];try{e[P]=void 0}catch(e){}var r=z.call(e);return t?e[P]=n:delete e[P],r},R=Object.prototype.toString;var k=function(e){return R.call(e)},x=O?O.toStringTag:void 0;var E=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":x&&x in Object(e)?S(e):k(e)};var W=function(e){return null!=e&&"object"==typeof e};var D=function(e){return"symbol"==typeof e||W(e)&&"[object Symbol]"==E(e)},F=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,N=/^0o[0-7]+$/i,A=parseInt;var I=function(e){if("number"==typeof e)return e;if(D(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(F,"");var n=H.test(e);return n||N.test(e)?A(e.slice(2),n?2:8):_.test(e)?NaN:+e},M=Math.max,q=Math.min;var C=function(r,i,e){var o,a,u,c,s,f,l=0,h=!1,p=!1,t=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function d(e){var t=o,n=a;return o=a=void 0,l=e,c=r.apply(n,t)}function v(e){var t=e-f;return void 0===f||i<=t||t<0||p&&u<=e-l}function y(){var e,t,n=w();if(v(n))return b(n);s=setTimeout(y,(t=i-((e=n)-f),p?q(t,u-(e-l)):t))}function b(e){return s=void 0,t&&o?d(e):(o=a=void 0,c)}function n(){var e,t=w(),n=v(t);if(o=arguments,a=this,f=t,n){if(void 0===s)return l=e=f,s=setTimeout(y,i),h?d(e):c;if(p)return s=setTimeout(y,i),d(f)}return void 0===s&&(s=setTimeout(y,i)),c}return i=I(i)||0,m(e)&&(h=!!e.leading,u=(p="maxWait"in e)?M(I(e.maxWait)||0,i):u,t="trailing"in e?!!e.trailing:t),n.cancel=function(){void 0!==s&&clearTimeout(s),o=f=a=s=void(l=0)},n.flush=function(){return void 0===s?c:b(w())},n},U=function(e){function n(e){var t;return o(this,n),(t=d(this,s(n).call(this,e))).state={width:0,height:0,top:0,left:0},t.resize=C(t.resize.bind(p(p(t))),e.debounceTime),t.setTarget=t.setTarget.bind(p(p(t))),t.animationFrameID=null,t}return c(n,l.Component),a(n,[{key:"componentDidMount",value:function(){var a=this;this.ro=new r(function(){(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).forEach(function(e){var t=e.contentRect,n=t.left,r=t.top,i=t.width,o=t.height;a.animationFrameID=window.requestAnimationFrame(function(){a.resize({width:i,height:o,top:r,left:n})})})}),this.ro.observe(this.target)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.animationFrameID),this.ro.disconnect()}},{key:"resize",value:function(e){var t=e.width,n=e.height,r=e.top,i=e.left;this.setState(function(){return{width:t,height:n,top:r,left:i}})}},{key:"setTarget",value:function(e){this.target=e}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=(e.debounceTime,h(e,["className","children","debounceTime"]));return l.createElement("div",u({style:{width:"100%",height:"100%"},ref:this.setTarget,className:t},r),n(function(i){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},t=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),t.forEach(function(e){var t,n,r;t=i,r=o[n=e],n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r})}return i}({},this.state,{ref:this.target,resize:this.resize})))}}]),n}();U.defaultProps={debounceTime:300},U.propTypes={className:t.string,children:t.func.isRequired,debounceTime:t.number},e.ScaleSVG=n,e.ParentSize=U,e.withParentSize=function(i){var e=function(e){function n(e){var t;return o(this,n),(t=d(this,s(n).call(this,e))).state={parentWidth:null,parentHeight:null},t.animationFrameID=null,t.debouncedResize=C(t.resize.bind(p(p(t))),e.debounceTime).bind(p(p(t))),t}return c(n,l.Component),a(n,[{key:"componentDidMount",value:function(){var i=this;this.ro=new r(function(e,t){e.forEach(function(e){var t=e.contentRect,n=t.width,r=t.height;i.animationFrameID=window.requestAnimationFrame(function(){i.debouncedResize({width:n,height:r})})})}),this.ro.observe(this.container)}},{key:"componentWillUnmount",value:function(){window.cancelAnimationFrame(this.animationFrameID),this.ro.disconnect()}},{key:"resize",value:function(e){var t=e.width,n=e.height;this.setState({parentWidth:t,parentHeight:n})}},{key:"render",value:function(){var t=this,e=this.state,n=e.parentWidth,r=e.parentHeight;return l.createElement("div",{style:{width:"100%",height:"100%"},ref:function(e){t.container=e}},null!==n&&null!==r&&l.createElement(i,u({parentWidth:n,parentHeight:r},this.props)))}}]),n}();return e.defaultProps={debounceTime:300},e},e.withScreenSize=function(r){var e=function(e){function n(e){var t;return o(this,n),(t=d(this,s(n).call(this,e))).state={screenWidth:null,screenHeight:null},t.handleResize=C(t.resize.bind(p(p(t))),e.windowResizeDebounceTime).bind(p(p(t))),t}return c(n,l.Component),a(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize,!1),this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize,!1)}},{key:"resize",value:function(e){this.setState(function(e,t){return{screenWidth:window.innerWidth,screenHeight:window.innerHeight}})}},{key:"render",value:function(){var e=this.state,t=e.screenWidth,n=e.screenHeight;return t||n?l.createElement(r,u({screenWidth:t,screenHeight:n},this.props)):null}}]),n}();return e.defaultProps={windowResizeDebounceTime:300},e},Object.defineProperty(e,"__esModule",{value:!0})});
