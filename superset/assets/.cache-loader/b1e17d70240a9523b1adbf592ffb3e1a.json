{"remainingRequest":"/app/superset/assets/node_modules/thread-loader/dist/cjs.js??ref--5-1!/app/superset/assets/node_modules/ts-loader/index.js??ref--5-2!/app/superset/assets/src/utils/safeStringify.ts","dependencies":[{"path":"/app/superset/assets/src/utils/safeStringify.ts","mtime":1580759753000},{"path":"/app/superset/assets/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/superset/assets/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/app/superset/assets/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\"use strict\";\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * A Stringify function that will not crash when it runs into circular JSON references,\n * unlike JSON.stringify. Any circular references are simply omitted, as if there had\n * been no data present\n * @param object any JSON object to be stringified\n */\nfunction safeStringify(object) {\n    var cache = new Set();\n    return JSON.stringify(object, function (key, value) {\n        if (typeof value === 'object' && value !== null) {\n            if (cache.has(value)) {\n                // We've seen this object before\n                try {\n                    // Quick deep copy to duplicate if this is a repeat rather than a circle.\n                    return JSON.parse(JSON.stringify(value));\n                }\n                catch (err) {\n                    // Discard key if value cannot be duplicated.\n                    return;\n                }\n            }\n            // Store the value in our cache.\n            cache.add(value);\n        }\n        return value;\n    });\n}\nexports.safeStringify = safeStringify;\n",{"version":3,"file":"/app/superset/assets/src/utils/safeStringify.ts","sourceRoot":"","sources":["/app/superset/assets/src/utils/safeStringify.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;;;GAiBG;;AAEH;;;;;GAKG;AACH,SAAgB,aAAa,CAAC,MAAW;IACvC,IAAM,KAAK,GAAG,IAAI,GAAG,EAAE,CAAC;IACxB,OAAO,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,UAAC,GAAG,EAAE,KAAK;QACvC,IAAI,OAAO,KAAK,KAAK,QAAQ,IAAI,KAAK,KAAK,IAAI,EAAE;YAC/C,IAAI,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBACpB,gCAAgC;gBAChC,IAAI;oBACF,yEAAyE;oBAC1E,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;iBACzC;gBAAC,OAAO,GAAG,EAAE;oBACZ,6CAA6C;oBAC9C,OAAO;iBACP;aACF;YACD,gCAAgC;YAChC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SAClB;QACD,OAAO,KAAK,CAAC;IACf,CAAC,CAAC,CAAC;AACL,CAAC;AAnBD,sCAmBC","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n/**\n * A Stringify function that will not crash when it runs into circular JSON references,\n * unlike JSON.stringify. Any circular references are simply omitted, as if there had\n * been no data present\n * @param object any JSON object to be stringified\n */\nexport function safeStringify(object: any): string {\n  const cache = new Set();\n  return JSON.stringify(object, (key, value) => {\n    if (typeof value === 'object' && value !== null) {\n      if (cache.has(value)) {\n        // We've seen this object before\n        try {\n          // Quick deep copy to duplicate if this is a repeat rather than a circle.\n         return JSON.parse(JSON.stringify(value));\n        } catch (err) {\n          // Discard key if value cannot be duplicated.\n         return;\n        }\n      }\n      // Store the value in our cache.\n      cache.add(value);\n    }\n    return value;\n  });\n}\n"]}]}